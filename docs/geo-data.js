// geo-data.js â€” Consolidated geographic/coordinate data for NCAA Men's Basketball app
// Extracted from app.js to eliminate duplicate definitions.

// Known neutral site venues (consolidated from 3 definitions)
const NEUTRAL_SITES = new Set([
    'Chase Center', 'Barclays Center', 'Madison Square Garden',
    'United Center', 'T-Mobile Arena', 'Footprint Center',
    'Crypto.com Arena', 'TD Garden', 'Capital One Arena',
    'Smoothie King Center', 'State Farm Arena', 'Little Caesars Arena',
    'Rocket Mortgage FieldHouse', 'Spectrum Center', 'Ball Arena',
    'Climate Pledge Arena', 'Intuit Dome', 'Kia Center',
]);

// Custom logos for non-D1 teams (from athletic department websites)
const CUSTOM_LOGOS = {
    'Academy of Art': 'https://artuathletics.com/images/responsive/cal_logo.png',
    'Johns Hopkins': 'https://dxbhsrqyrr690.cloudfront.net/sidearm.nextgen.sites/hopkinssports.com/images/responsive_2025/logos/logo_main.svg',
    'University of Chicago': 'https://dbukjj6eu5tsf.cloudfront.net/sidearm.sites/chgo.sidearmsports.com/images/responsive_2023/main_logo.png',
    'Chicago': 'https://dbukjj6eu5tsf.cloudfront.net/sidearm.sites/chgo.sidearmsports.com/images/responsive_2023/main_logo.png',
    'Washington College': 'https://dxbhsrqyrr690.cloudfront.net/sidearm.nextgen.sites/washingtoncollegesports.com/images/responsive_2022/svgs/on-light-theme.svg',
    'Brandeis': 'https://dbukjj6eu5tsf.cloudfront.net/sidearm.sites/brandeisu.sidearmsports.com/images/responsive_2023/logo_main_new.svg',
    'Jessup': 'https://dxbhsrqyrr690.cloudfront.net/sidearm.nextgen.sites/jessup.sidearmsports.com/images/responsive_2024/logo_main.svg',
};

// Specific venue coordinates for neutral sites and arenas (merged from 2 definitions)
const VENUE_COORDS = {
    // Neutral sites
    'Chase Center': [37.7680466, -122.387715],  // 1 Warriors Way, San Francisco
    'Barclays Center': [40.682732, -73.975876],  // 620 Atlantic Ave, Brooklyn
    'Madison Square Garden': [40.7505, -73.9934],
    'United Center': [41.8807, -87.6742],
    'T-Mobile Arena': [36.1029, -115.1784],
    'Footprint Center': [33.4457, -112.0712],
    'Crypto.com Arena': [34.0430, -118.2673],
    'TD Garden': [42.3662, -71.0621],
    'Capital One Arena': [38.8981, -77.0209],
    'Bridgestone Arena': [36.1591, -86.7785],  // Nashville, TN
    // D3/D2 venues
    'Kezar Pavilion': [37.7670, -122.4535],  // Academy of Art, San Francisco
    'Ratner Center': [41.7942, -87.6019],  // University of Chicago
    'Goldfarb Gym': [39.3299, -76.6205],  // Johns Hopkins, Baltimore
    // Historical venues
    'Towson Center': [39.3935, -76.6100],  // 7500 Osler Drive, Towson - Towson's arena before SECU Arena (pre-2013)
};

// State abbreviations for city lookup
const STATE_ABBREV = {
    'Alabama': 'AL', 'Alaska': 'AK', 'Arizona': 'AZ', 'Arkansas': 'AR',
    'California': 'CA', 'Colorado': 'CO', 'Connecticut': 'CT', 'Delaware': 'DE',
    'Florida': 'FL', 'Georgia': 'GA', 'Hawaii': 'HI', 'Idaho': 'ID',
    'Illinois': 'IL', 'Indiana': 'IN', 'Iowa': 'IA', 'Kansas': 'KS',
    'Kentucky': 'KY', 'Louisiana': 'LA', 'Maine': 'ME', 'Maryland': 'MD',
    'Massachusetts': 'MA', 'Michigan': 'MI', 'Minnesota': 'MN', 'Mississippi': 'MS',
    'Missouri': 'MO', 'Montana': 'MT', 'Nebraska': 'NE', 'Nevada': 'NV',
    'New Hampshire': 'NH', 'New Jersey': 'NJ', 'New Mexico': 'NM', 'New York': 'NY',
    'North Carolina': 'NC', 'North Dakota': 'ND', 'Ohio': 'OH', 'Oklahoma': 'OK',
    'Oregon': 'OR', 'Pennsylvania': 'PA', 'Rhode Island': 'RI', 'South Carolina': 'SC',
    'South Dakota': 'SD', 'Tennessee': 'TN', 'Texas': 'TX', 'Utah': 'UT',
    'Vermont': 'VT', 'Virginia': 'VA', 'Washington': 'WA', 'West Virginia': 'WV',
    'Wisconsin': 'WI', 'Wyoming': 'WY', 'District of Columbia': 'DC'
};

// Venue coordinates for map (US state centers as fallback)
const STATE_COORDS = {
    'Alabama': [32.806671, -86.791130], 'Alaska': [61.370716, -152.404419],
    'Arizona': [33.729759, -111.431221], 'Arkansas': [34.969704, -92.373123],
    'California': [36.116203, -119.681564], 'Colorado': [39.059811, -105.311104],
    'Connecticut': [41.597782, -72.755371], 'Delaware': [39.318523, -75.507141],
    'Florida': [27.766279, -81.686783], 'Georgia': [33.040619, -83.643074],
    'Hawaii': [21.094318, -157.498337], 'Idaho': [44.240459, -114.478828],
    'Illinois': [40.349457, -88.986137], 'Indiana': [39.849426, -86.258278],
    'Iowa': [42.011539, -93.210526], 'Kansas': [38.526600, -96.726486],
    'Kentucky': [37.668140, -84.670067], 'Louisiana': [31.169546, -91.867805],
    'Maine': [44.693947, -69.381927], 'Maryland': [39.063946, -76.802101],
    'Massachusetts': [42.230171, -71.530106], 'Michigan': [43.326618, -84.536095],
    'Minnesota': [45.694454, -93.900192], 'Mississippi': [32.741646, -89.678696],
    'Missouri': [38.456085, -92.288368], 'Montana': [46.921925, -110.454353],
    'Nebraska': [41.125370, -98.268082], 'Nevada': [38.313515, -117.055374],
    'New Hampshire': [43.452492, -71.563896], 'New Jersey': [40.298904, -74.521011],
    'New Mexico': [34.840515, -106.248482], 'New York': [42.165726, -74.948051],
    'North Carolina': [35.630066, -79.806419], 'North Dakota': [47.528912, -99.784012],
    'Ohio': [40.388783, -82.764915], 'Oklahoma': [35.565342, -96.928917],
    'Oregon': [44.572021, -122.070938], 'Pennsylvania': [40.590752, -77.209755],
    'Rhode Island': [41.680893, -71.511780], 'South Carolina': [33.856892, -80.945007],
    'South Dakota': [44.299782, -99.438828], 'Tennessee': [35.747845, -86.692345],
    'Texas': [31.054487, -97.563461], 'Utah': [40.150032, -111.862434],
    'Vermont': [44.045876, -72.710686], 'Virginia': [37.769337, -78.169968],
    'Washington': [47.400902, -121.490494], 'West Virginia': [38.491226, -80.954453],
    'Wisconsin': [44.268543, -89.616508], 'Wyoming': [42.755966, -107.302490],
    'District of Columbia': [38.897438, -77.026817]
};

// City coordinates for accurate venue placement
const CITY_COORDS = {
    // Major cities
    'Philadelphia, PA': [39.9526, -75.1652], 'Houston, TX': [29.7604, -95.3698],
    'Chicago, IL': [41.8781, -87.6298], 'Nashville, TN': [36.1627, -86.7816],
    'Washington, DC': [38.9072, -77.0369], 'Baltimore, MD': [39.2904, -76.6122],
    'San Diego, CA': [32.7157, -117.1611], 'Los Angeles, CA': [34.0522, -118.2437],
    'Charleston, SC': [32.7765, -79.9311], 'Atlanta, GA': [33.7490, -84.3880],
    'Pittsburgh, PA': [40.4406, -79.9959], 'Jacksonville, FL': [30.3322, -81.6557],
    'Richmond, VA': [37.5407, -77.4360], 'Seattle, WA': [47.6062, -122.3321],
    'Fairfield, CT': [41.1408, -73.2637], 'Cincinnati, OH': [39.1031, -84.5120],
    'Baton Rouge, LA': [30.4515, -91.1871], 'San Antonio, TX': [29.4241, -98.4936],
    'Riverside, CA': [33.9533, -117.3962], 'Buffalo, NY': [42.8864, -78.8784],
    'Spartanburg, SC': [34.9496, -81.9320], 'Portland, OR': [45.5152, -122.6784],
    'Newark, NJ': [40.7357, -74.1724], 'Dayton, OH': [39.7589, -84.1916],
    'Milwaukee, WI': [43.0389, -87.9065], 'Charlotte, NC': [35.2271, -80.8431],
    'Syracuse, NY': [43.0481, -76.1474], 'Boston, MA': [42.3601, -71.0589],
    'Tallahassee, FL': [30.4383, -84.2807], 'New Orleans, LA': [29.9511, -90.0715],
    // California cities
    'San Francisco, CA': [37.7749, -122.4194], 'Oakland, CA': [37.8044, -122.2712],
    'Berkeley, CA': [37.8716, -122.2727], 'Stanford, CA': [37.4275, -122.1697],
    'San Jose, CA': [37.3382, -121.8863], 'Sacramento, CA': [38.5816, -121.4944],
    'Fresno, CA': [36.7378, -119.7871], 'Moraga, CA': [37.8349, -122.1297],
    'Malibu, CA': [34.0259, -118.7798], 'Irvine, CA': [33.6846, -117.8265],
    'Fullerton, CA': [33.8704, -117.9242], 'Long Beach, CA': [33.7701, -118.1937],
    'Santa Barbara, CA': [34.4208, -119.6982], 'Davis, CA': [38.5449, -121.7405],
    'Northridge, CA': [34.2381, -118.5302], 'Bakersfield, CA': [35.3733, -119.0187],
    // Texas cities
    'Austin, TX': [30.2672, -97.7431], 'Dallas, TX': [32.7767, -96.7970],
    'Fort Worth, TX': [32.7555, -97.3308], 'Lubbock, TX': [33.5779, -101.8552],
    'Waco, TX': [31.5493, -97.1467], 'College Station, TX': [30.6280, -96.3344],
    'El Paso, TX': [31.7619, -106.4850], 'Denton, TX': [33.2148, -97.1331],
    // Florida cities
    'Miami, FL': [25.7617, -80.1918], 'Orlando, FL': [28.5383, -81.3792],
    'Tampa, FL': [27.9506, -82.4572], 'Gainesville, FL': [29.6516, -82.3248],
    'Coral Gables, FL': [25.7215, -80.2684], 'Boca Raton, FL': [26.3587, -80.0831],
    // New York cities
    'New York, NY': [40.7128, -74.0060], 'Brooklyn, NY': [40.6782, -73.9442],
    'Albany, NY': [42.6526, -73.7562], 'Ithaca, NY': [42.4440, -76.5019],
    'Rochester, NY': [43.1566, -77.6088], 'Hempstead, NY': [40.7062, -73.6187],
    // Other major college towns
    'Durham, NC': [35.9940, -78.8986], 'Raleigh, NC': [35.7796, -78.6382],
    'Chapel Hill, NC': [35.9132, -79.0558], 'Greensboro, NC': [36.0726, -79.7920],
    'Winston-Salem, NC': [36.0999, -80.2442], 'Lexington, KY': [38.0406, -84.5037],
    'Louisville, KY': [38.2527, -85.7585], 'Indianapolis, IN': [39.7684, -86.1581],
    'West Lafayette, IN': [40.4259, -86.9081], 'Bloomington, IN': [39.1653, -86.5264],
    'South Bend, IN': [41.6764, -86.2520], 'Ann Arbor, MI': [42.2808, -83.7430],
    'East Lansing, MI': [42.7369, -84.4839], 'Detroit, MI': [42.3314, -83.0458],
    'Columbus, OH': [39.9612, -82.9988], 'Cleveland, OH': [41.4993, -81.6944],
    'Akron, OH': [41.0814, -81.5190], 'Tucson, AZ': [32.2226, -110.9747],
    'Tempe, AZ': [33.4255, -111.9400], 'Phoenix, AZ': [33.4484, -112.0740],
    'Salt Lake City, UT': [40.7608, -111.8910], 'Provo, UT': [40.2338, -111.6585],
    'Denver, CO': [39.7392, -104.9903], 'Boulder, CO': [40.0150, -105.2705],
    'Fort Collins, CO': [40.5853, -105.0844], 'Albuquerque, NM': [35.0844, -106.6504],
    'Las Vegas, NV': [36.1699, -115.1398], 'Reno, NV': [39.5296, -119.8138],
    'Minneapolis, MN': [44.9778, -93.2650], 'St. Paul, MN': [44.9537, -93.0900],
    'Madison, WI': [43.0731, -89.4012], 'Iowa City, IA': [41.6611, -91.5302],
    'Ames, IA': [42.0308, -93.6319], 'Lawrence, KS': [38.9717, -95.2353],
    'Manhattan, KS': [39.1836, -96.5717], 'Wichita, KS': [37.6872, -97.3301],
    'Lincoln, NE': [40.8258, -96.6852], 'Omaha, NE': [41.2565, -95.9345],
    'Norman, OK': [35.2226, -97.4395], 'Stillwater, OK': [36.1156, -97.0584],
    'Tulsa, OK': [36.1540, -95.9928], 'Columbia, MO': [38.9517, -92.3341],
    'St. Louis, MO': [38.6270, -90.1994], 'Kansas City, MO': [39.0997, -94.5786],
    'Spokane, WA': [47.6588, -117.4260], 'Pullman, WA': [46.7298, -117.1817],
    'Eugene, OR': [44.0521, -123.0868], 'Corvallis, OR': [44.5646, -123.2620],
    'Boise, ID': [43.6150, -116.2023], 'Missoula, MT': [46.8721, -113.9940],
    'Laramie, WY': [41.3114, -105.5911], 'Fayetteville, AR': [36.0626, -94.1574],
    'Little Rock, AR': [34.7465, -92.2896], 'Auburn, AL': [32.6099, -85.4808],
    'Tuscaloosa, AL': [33.2098, -87.5692], 'Birmingham, AL': [33.5207, -86.8025],
    'Oxford, MS': [34.3665, -89.5192], 'Starkville, MS': [33.4504, -88.8184],
    'Knoxville, TN': [35.9606, -83.9207], 'Memphis, TN': [35.1495, -90.0490],
    'Athens, GA': [33.9519, -83.3576], 'Macon, GA': [32.8407, -83.6324],
    'Clemson, SC': [34.6834, -82.8374], 'Columbia, SC': [34.0007, -81.0348],
    'Gainesville, GA': [34.2979, -83.8241], 'Charlottesville, VA': [38.0293, -78.4767],
    'Blacksburg, VA': [37.2296, -80.4139], 'Norfolk, VA': [36.8508, -76.2859],
    'College Park, MD': [38.9897, -76.9378], 'Towson, MD': [39.3943, -76.6019],
    'State College, PA': [40.7934, -77.8600], 'Villanova, PA': [40.0388, -75.3455],
    'Providence, RI': [41.8240, -71.4128], 'Hartford, CT': [41.7658, -72.6734],
    'Storrs, CT': [41.8084, -72.2495], 'New Haven, CT': [41.3083, -72.9279],
    'Worcester, MA': [42.2626, -71.8023], 'Amherst, MA': [42.3732, -72.5199],
    'Princeton, NJ': [40.3573, -74.6672], 'Piscataway, NJ': [40.4862, -74.4518],
    'West Point, NY': [41.3915, -73.9566], 'Annapolis, MD': [38.9784, -76.4922],
    'Colorado Springs, CO': [38.8339, -104.8214], 'Spokane, WA': [47.6588, -117.4260],
    'Honolulu, HI': [21.3069, -157.8583], 'Anchorage, AK': [61.2181, -149.9003],
};

// School coordinates for map
const SCHOOL_COORDS = {
    // ACC
    'Boston College': [42.3355, -71.1685],
    'California': [37.8697, -122.2619],
    'Clemson': [34.6834, -82.8374],
    'Duke': [36.0014, -78.9382],
    'Florida State': [30.4383, -84.3040],
    'Georgia Tech': [33.7756, -84.3963],
    'Louisville': [38.2186, -85.7585],
    'Miami (FL)': [25.7145, -80.2833],
    'NC State': [35.7872, -78.6705],
    'North Carolina': [35.9049, -79.0469],
    'Notre Dame': [41.7052, -86.2352],
    'Pittsburgh': [40.4443, -79.9608],
    'SMU': [32.8412, -96.7852],
    'Stanford': [37.4346, -122.1609],
    'Syracuse': [43.0481, -76.1474],
    'Virginia': [38.0336, -78.5080],
    'Virginia Tech': [37.2296, -80.4139],
    'Wake Forest': [36.1338, -80.2820],
    // Big Ten
    'Illinois': [40.1020, -88.2272],
    'Indiana': [39.1682, -86.5231],
    'Iowa': [41.6611, -91.5499],
    'Maryland': [38.9897, -76.9378],
    'Michigan': [42.2808, -83.7430],
    'Michigan State': [42.7284, -84.4822],
    'Minnesota': [44.9740, -93.2277],
    'Nebraska': [40.8202, -96.7005],
    'Northwestern': [42.0565, -87.6753],
    'Ohio State': [40.0076, -83.0251],
    'Oregon': [44.0448, -123.0726],
    'Penn State': [40.8148, -77.8563],
    'Purdue': [40.4259, -86.9081],
    'Rutgers': [40.5008, -74.4474],
    'UCLA': [34.0689, -118.4452],
    'USC': [34.0224, -118.2851],
    'Washington': [47.6553, -122.3035],
    'Wisconsin': [43.0731, -89.4012],
    // SEC
    'Alabama': [33.2098, -87.5692],
    'Arkansas': [36.0679, -94.1737],
    'Auburn': [32.6026, -85.4808],
    'Florida': [29.6499, -82.3486],
    'Georgia': [33.9480, -83.3773],
    'Kentucky': [38.0406, -84.5037],
    'LSU': [30.4133, -91.1838],
    'Mississippi State': [33.4504, -88.7934],
    'Missouri': [38.9517, -92.3341],
    'Oklahoma': [35.2226, -97.4395],
    'Ole Miss': [34.3647, -89.5387],
    'South Carolina': [33.9940, -81.0254],
    'Tennessee': [35.9544, -83.9295],
    'Texas': [30.2849, -97.7341],
    'Texas A&M': [30.6043, -96.3711],
    'Vanderbilt': [36.1447, -86.8027],
    // Big 12
    'Arizona': [32.2319, -110.9501],
    'Arizona State': [33.4255, -111.9400],
    'Baylor': [31.5586, -97.1164],
    'BYU': [40.2338, -111.6585],
    'Cincinnati': [39.1329, -84.5150],
    'Colorado': [40.0076, -105.2659],
    'Houston': [29.7199, -95.3422],
    'Iowa State': [42.0140, -93.6357],
    'Kansas': [38.9543, -95.2558],
    'Kansas State': [39.1836, -96.5717],
    'Oklahoma State': [36.1156, -97.0584],
    'TCU': [32.7098, -97.3633],
    'Texas Tech': [33.5906, -101.8749],
    'UCF': [28.6024, -81.2001],
    'Utah': [40.7649, -111.8421],
    'West Virginia': [39.6480, -79.9544],
    // Big East
    'Butler': [39.8407, -86.1694],
    'UConn': [41.8084, -72.2495],
    'Creighton': [41.2627, -95.9378],
    'DePaul': [41.9253, -87.6569],
    'Georgetown': [38.9076, -77.0723],
    'Marquette': [43.0389, -87.9295],
    'Providence': [41.8403, -71.4354],
    'Seton Hall': [40.7424, -74.2433],
    "St. John's": [40.7228, -73.7949],
    'Villanova': [40.0346, -75.3378],
    'Xavier': [39.1494, -84.4734],
    // WCC
    'Gonzaga': [47.6671, -117.4017],
    'Loyola Marymount': [33.9700, -118.4175],
    'Oregon State': [44.5646, -123.2750],
    'Pacific': [37.9818, -121.3108],
    'Pepperdine': [34.0400, -118.7098],
    'Portland': [45.5646, -122.7225],
    "Saint Mary's (CA)": [37.8406, -122.1081],
    'San Diego': [32.7710, -117.1878],
    'San Francisco': [37.7765, -122.4506],
    'Santa Clara': [37.3496, -121.9390],
    'Seattle': [47.6062, -122.3321],
    'Seattle U': [47.6097, -122.3175],
    'Washington State': [46.7324, -117.1631],
    // American (AAC)
    'Charlotte': [35.3074, -80.7330],
    'East Carolina': [35.6066, -77.3664],
    'Florida Atlantic': [26.3683, -80.1018],
    'Memphis': [35.1174, -89.9711],
    'North Texas': [33.2148, -97.1331],
    'Rice': [29.7174, -95.4018],
    'South Florida': [28.0587, -82.4139],
    'Temple': [39.9812, -75.1495],
    'Tulane': [29.9340, -90.1185],
    'Tulsa': [36.1512, -95.9446],
    'UAB': [33.5021, -86.7993],
    'UTSA': [29.5830, -98.6197],
    'Wichita State': [37.7200, -97.2957],
    // Mountain West
    'Air Force': [39.0068, -104.8836],
    'Boise State': [43.6034, -116.2024],
    'Colorado State': [40.5734, -105.0865],
    'Fresno State': [36.8116, -119.7485],
    'Grand Canyon': [33.5097, -112.1257],
    'Nevada': [39.5497, -119.8143],
    'New Mexico': [35.0853, -106.6056],
    'San Diego State': [32.7761, -117.0701],
    'San Jose State': [37.3352, -121.8811],
    'UNLV': [36.1085, -115.1397],
    'Utah State': [41.7520, -111.8126],
    'Wyoming': [41.3149, -105.5666],
    // Ivy League
    'Brown': [41.8268, -71.4025],
    'Columbia': [40.8075, -73.9626],
    'Cornell': [42.4534, -76.4735],
    'Dartmouth': [43.7044, -72.2887],
    'Harvard': [42.3770, -71.1167],
    'Penn': [39.9522, -75.1932],
    'Princeton': [40.3440, -74.6514],
    'Yale': [41.3111, -72.9267],
    // Atlantic 10
    'Dayton': [39.7405, -84.1796],
    'Davidson': [35.5016, -80.8428],
    'Duquesne': [40.4365, -79.9878],
    'Fordham': [40.8612, -73.8865],
    'George Mason': [38.8298, -77.3074],
    'George Washington': [38.9007, -77.0508],
    'La Salle': [40.0379, -75.1551],
    'Loyola Chicago': [41.9998, -87.6579],
    'Rhode Island': [41.4806, -71.5276],
    'Richmond': [37.5740, -77.5400],
    "Saint Joseph's": [40.0313, -75.2348],
    'Saint Louis': [38.6361, -90.2340],
    'St. Bonaventure': [42.0778, -78.4756],
    'VCU': [37.5495, -77.4508],
    // MVC
    'Belmont': [36.1330, -86.7967],
    'Bradley': [40.6984, -89.6177],
    'Drake': [41.6005, -93.6527],
    'Evansville': [37.9748, -87.5006],
    'Illinois State': [40.5142, -88.9906],
    'Indiana State': [39.4653, -87.4056],
    'Murray State': [36.6127, -88.3151],
    'Northern Iowa': [42.5142, -92.4631],
    'Southern Illinois': [37.7145, -89.2173],
    'UIC': [41.8719, -87.6484],
    'Valparaiso': [41.4531, -87.0360],
    // CAA
    'Campbell': [35.4174, -78.8553],
    'Charleston': [32.7833, -79.9370],
    'Drexel': [39.9566, -75.1899],
    'Elon': [36.1054, -79.5022],
    'Hampton': [37.0231, -76.3346],
    'Hofstra': [40.7154, -73.6004],
    'Monmouth': [40.2774, -74.0046],
    'UNCW': [34.2257, -77.8723],
    'Northeastern': [42.3398, -71.0892],
    'North Carolina A&T': [36.0726, -79.7777],
    'Stony Brook': [40.9176, -73.1233],
    'Towson': [39.3943, -76.6097],
    'William & Mary': [37.2707, -76.7075],
    // Patriot League
    'American': [38.9365, -77.0878],
    'Army': [41.3915, -73.9653],
    'Boston University': [42.3505, -71.1054],
    'Bucknell': [40.9553, -76.8847],
    'Colgate': [42.8185, -75.5399],
    'Holy Cross': [42.2373, -71.8078],
    'Lafayette': [40.6977, -75.2109],
    'Lehigh': [40.6084, -75.3781],
    'Loyola (MD)': [39.3482, -76.6256],
    'Navy': [38.9847, -76.4888],
    // WAC
    'Abilene Christian': [32.4601, -99.7778],
    'California Baptist': [33.9295, -117.4260],
    'Southern Utah': [37.6772, -113.0619],
    'Tarleton State': [32.2235, -98.2175],
    'Utah Tech': [37.1041, -113.5841],
    'Utah Valley': [40.2789, -111.7144],
    'UT Arlington': [32.7299, -97.1133],
    // Big Sky
    'Eastern Washington': [47.4886, -117.5826],
    'Idaho': [46.7324, -117.0002],
    'Idaho State': [42.8621, -112.4278],
    'Montana': [46.8625, -113.9847],
    'Montana State': [45.6670, -111.0429],
    'Northern Arizona': [35.1894, -111.6514],
    'Northern Colorado': [40.4053, -104.6975],
    'Portland State': [45.5118, -122.6842],
    'Sacramento State': [38.5618, -121.4240],
    'Weber State': [41.1928, -111.9348],
    // Horizon League
    'Cleveland State': [41.5025, -81.6736],
    'Detroit Mercy': [42.3528, -83.0657],
    'Green Bay': [44.5333, -87.9096],
    'IU Indianapolis': [39.7745, -86.1758],
    'Milwaukee': [43.0766, -87.8815],
    'Northern Kentucky': [39.0284, -84.4631],
    'Oakland': [42.6679, -83.2184],
    'Purdue Fort Wayne': [41.1176, -85.1090],
    'Robert Morris': [40.5186, -80.1839],
    'Wright State': [39.7817, -84.0620],
    'Youngstown State': [41.1067, -80.6495],
    // ASUN
    'Austin Peay': [36.5366, -87.3461],
    'Bellarmine': [38.2072, -85.6821],
    'Central Arkansas': [35.0764, -92.4592],
    'Eastern Kentucky': [37.7378, -84.2942],
    'Florida Gulf Coast': [26.4615, -81.7729],
    'Jacksonville': [30.3505, -81.6050],
    'Lipscomb': [36.1194, -86.8007],
    'North Alabama': [34.8059, -87.6771],
    'North Florida': [30.2722, -81.5103],
    'Queens': [35.1872, -80.8326],
    'Stetson': [29.0411, -81.3039],
    'West Georgia': [33.5834, -85.0867],
    // NEC
    'Central Connecticut': [41.5658, -72.7823],
    'Chicago State': [41.7186, -87.6094],
    'Fairleigh Dickinson': [40.8554, -74.2293],
    'Le Moyne': [43.0300, -76.0700],
    'LIU': [40.6891, -73.9866],
    'Mercyhurst': [42.0987, -80.0923],
    'Merrimack': [42.7110, -71.1897],
    'New Haven': [41.2903, -72.9510],
    'Sacred Heart': [41.2059, -73.2207],
    'St. Francis (PA)': [40.4583, -78.5505],
    'Stonehill': [42.1062, -71.1073],
    'Wagner': [40.6162, -74.0936],
    // MAAC
    'Canisius': [42.9383, -78.8442],
    'Fairfield': [41.2054, -73.2413],
    'Iona': [40.9235, -73.8270],
    'Manhattan': [40.8905, -73.8991],
    'Marist': [41.7262, -73.9330],
    "Mount St. Mary's": [39.6936, -77.4364],
    'Niagara': [43.1400, -79.0400],
    'Quinnipiac': [41.4193, -72.8932],
    'Rider': [40.2855, -74.7470],
    "Saint Peter's": [40.7420, -74.0545],
    'Siena': [42.7189, -73.7530],
    // MEAC
    'Coppin State': [39.3409, -76.6654],
    'Delaware State': [39.1896, -75.5422],
    'Howard': [38.9224, -77.0197],
    'Maryland-Eastern Shore': [38.2091, -75.8333],
    'Morgan State': [39.3434, -76.5824],
    'Norfolk State': [36.8474, -76.2672],
    'North Carolina Central': [35.9746, -78.8986],
    'South Carolina State': [33.4934, -80.8544],
    // SWAC
    'Alabama A&M': [34.7831, -86.5686],
    'Alabama State': [32.3643, -86.2956],
    'Alcorn State': [31.8766, -91.1349],
    'Arkansas-Pine Bluff': [34.2284, -92.0032],
    'Bethune-Cookman': [29.2108, -81.0228],
    'Florida A&M': [30.4278, -84.2878],
    'Grambling State': [32.5244, -92.7147],
    'Jackson State': [32.2979, -90.2094],
    'Mississippi Valley State': [33.4897, -90.3073],
    'Prairie View A&M': [30.0943, -95.9898],
    'Southern': [30.5184, -91.1904],
    'Texas Southern': [29.7238, -95.3573],
    // Southland
    'East Texas A&M': [33.2348, -95.9153],
    'Houston Christian': [29.7319, -95.5850],
    'Incarnate Word': [29.4632, -98.4669],
    'Lamar': [30.0580, -94.0657],
    'McNeese': [30.2097, -93.2108],
    'New Orleans': [30.0277, -90.0674],
    'Nicholls': [29.7949, -90.8106],
    'Northwestern State': [31.7497, -93.1035],
    'Southeastern Louisiana': [30.5180, -90.4631],
    'Stephen F. Austin': [31.6250, -94.6437],
    'Texas A&M-Corpus Christi': [27.7130, -97.3256],
    'UTRGV': [26.3038, -98.1784],
    // OVC
    'Eastern Illinois': [39.4780, -88.1759],
    'Little Rock': [34.7257, -92.3421],
    'Lindenwood': [38.6887, -90.3847],
    'Morehead State': [38.1856, -83.4341],
    'SIU Edwardsville': [38.7945, -89.9975],
    'Southeast Missouri State': [37.3091, -89.5503],
    'Southern Indiana': [38.0138, -87.5763],
    'Tennessee State': [36.1681, -86.8326],
    'Tennessee Tech': [36.1720, -85.5088],
    'UT Martin': [36.3450, -88.8528],
    'Western Illinois': [40.4735, -90.6801],
    // Big West
    'Cal Poly': [35.3050, -120.6625],
    'Cal State Bakersfield': [35.3506, -119.1038],
    'Cal State Fullerton': [33.8829, -117.8869],
    'Cal State Northridge': [34.2400, -118.5291],
    'Hawaii': [21.2969, -157.8171],
    'Long Beach State': [33.7838, -118.1141],
    'UC Davis': [38.5382, -121.7617],
    'UC Irvine': [33.6405, -117.8443],
    'UC Riverside': [33.9737, -117.3281],
    'UC San Diego': [32.8801, -117.2340],
    'UC Santa Barbara': [34.4133, -119.8610],
    // Summit League
    'Denver': [39.6774, -104.9619],
    'Kansas City': [39.0997, -94.5786],
    'North Dakota': [47.9253, -97.0329],
    'North Dakota State': [46.8958, -96.8003],
    'Omaha': [41.2565, -96.0135],
    'Oral Roberts': [36.0550, -95.9389],
    'South Dakota': [42.7896, -96.9267],
    'South Dakota State': [44.3114, -96.7984],
    'St. Thomas': [44.9467, -93.1892],
    // Southern Conference
    'Chattanooga': [35.0456, -85.3097],
    'East Tennessee State': [36.3081, -82.3645],
    'Furman': [34.9270, -82.4391],
    'Mercer': [32.8308, -83.6500],
    'Samford': [33.4644, -86.7929],
    'The Citadel': [32.7967, -79.9581],
    'UNC Greensboro': [36.0687, -79.8100],
    'VMI': [37.7910, -79.4420],
    'Western Carolina': [35.3073, -83.1857],
    'Wofford': [34.9507, -81.9320],
    // America East
    'Albany': [42.6867, -73.8232],
    'Binghamton': [42.0873, -75.9693],
    'Bryant': [41.8465, -71.4548],
    'Maine': [44.9010, -68.6731],
    'New Hampshire': [43.1339, -70.9264],
    'NJIT': [40.7424, -74.1790],
    'UMass Lowell': [42.6526, -71.3247],
    'UMBC': [39.2554, -76.7107],
    'Vermont': [44.4759, -73.1983],
    // Conference USA
    'Delaware': [39.6837, -75.7497],
    'FIU': [25.7578, -80.3733],
    'Jacksonville State': [33.8200, -85.7653],
    'Kennesaw State': [34.0234, -84.5819],
    'Liberty': [37.3519, -79.1731],
    'Louisiana Tech': [32.5270, -92.6477],
    'Middle Tennessee': [35.8487, -86.3680],
    'Missouri State': [37.2089, -93.2923],
    'New Mexico State': [32.2830, -106.7473],
    'Sam Houston': [30.7149, -95.5508],
    'UTEP': [31.7706, -106.5069],
    'Western Kentucky': [36.9833, -86.4500],
    // MAC
    'Akron': [41.0733, -81.5068],
    'Ball State': [40.2060, -85.4097],
    'Bowling Green': [41.3763, -83.6275],
    'Buffalo': [42.9984, -78.7911],
    'Central Michigan': [43.5917, -84.7688],
    'Eastern Michigan': [42.2486, -83.6238],
    'Kent State': [41.1461, -81.3420],
    'Miami (OH)': [39.5089, -84.7340],
    'Northern Illinois': [41.9360, -88.7633],
    'Ohio': [39.3203, -82.0997],
    'Toledo': [41.6528, -83.6127],
    'UMass': [42.3868, -72.5301],
    'Western Michigan': [42.2848, -85.6152],
    // Sun Belt
    'Appalachian State': [36.2152, -81.6746],
    'Arkansas State': [35.8423, -90.6792],
    'Coastal Carolina': [33.7959, -79.0103],
    'Georgia Southern': [32.4219, -81.7832],
    'Georgia State': [33.7530, -84.3853],
    'James Madison': [38.4362, -78.8675],
    'Louisiana': [30.2140, -92.0192],
    'Louisiana-Monroe': [32.5293, -92.0755],
    'Marshall': [38.4238, -82.4238],
    'Old Dominion': [36.8865, -76.3059],
    'South Alabama': [30.6965, -88.1780],
    'Southern Miss': [31.3271, -89.3350],
    'Texas State': [29.8884, -97.9384],
    'Troy': [31.7988, -85.9636],
    // Big South
    'Charleston Southern': [32.9804, -80.0634],
    'Gardner-Webb': [35.2284, -81.5856],
    'High Point': [35.9735, -79.9928],
    'Longwood': [37.2968, -78.3961],
    'Presbyterian': [34.5035, -81.8593],
    'Radford': [37.1318, -80.5540],
    'UNC Asheville': [35.6138, -82.5675],
    'USC Upstate': [34.9254, -81.9826],
    'Winthrop': [34.9418, -81.0331],
    // Additional schools
    'Long Island': [40.8176, -73.1163],
    "St. John's": [40.7222, -73.7949],
    "Saint Joseph's": [40.0158, -75.2356],
    "Saint Peter's": [40.7321, -74.0676],
    'UNC Wilmington': [34.2257, -77.8709],
    'Texas-Rio Grande Valley': [26.3038, -98.1784],
    "Mount St. Mary's": [39.7031, -77.3575],
    'Saint Francis (PA)': [40.3960, -78.5091],
    'Indiana-Purdue Indianapolis': [39.7740, -86.1816],
    'Seattle': [47.6097, -122.3331],
    'Boston University': [42.3505, -71.1054],
    'Central Arkansas': [35.0849, -92.4403],
    'Central Connecticut': [41.5682, -72.8740],
    'Fairleigh Dickinson': [40.9157, -74.1238],
    'Abilene Christian': [32.4669, -99.6940],
    'Northern Kentucky': [39.0284, -84.4621],
    'Purdue Fort Wayne': [41.1175, -85.1045],
    // D2/D3/NAIA Schools
    'University of Chicago': [41.7919, -87.5997],  // Ratner Center
    'Chicago': [41.7919, -87.5997],  // University of Chicago / Ratner Center
    'Johns Hopkins': [39.3299, -76.6205],  // Goldfarb Gym
    'Brandeis': [42.3654, -74.2631],  // Auerbach Arena
    'Washington College': [39.2107, -76.0721],  // Gibson Center
    'Academy of Art': [37.7673, -122.4545],  // Kezar Pavilion
    'Jessup': [38.8238, -121.2422],  // Warrior Arena
};

// Helper to normalize ESPN team names to match SCHOOL_COORDS keys
function normalizeEspnTeamName(name) {
    if (!name) return name;

    // Normalize curly quotes to straight quotes (ESPN uses curly)
    name = name.replace(/\u2018/g, "'").replace(/\u2019/g, "'").replace(/\u201C/g, '"').replace(/\u201D/g, '"');

    // Explicit ESPN -> SCHOOL_COORDS mappings
    const explicitMappings = {
        // UC schools
        'Santa Barbara': 'UC Santa Barbara', 'Davis': 'UC Davis', 'Riverside': 'UC Riverside',
        'Irvine': 'UC Irvine', 'San Diego': 'San Diego', 'UCSB': 'UC Santa Barbara',
        'UCD': 'UC Davis', 'UCR': 'UC Riverside', 'UCI': 'UC Irvine', 'UCSD': 'UC San Diego',
        // Cal State schools
        'Bakersfield': 'Cal State Bakersfield', 'Fullerton': 'Cal State Fullerton',
        'Northridge': 'Cal State Northridge', 'LMU': 'Loyola Marymount',
        'CSU Bakersfield': 'Cal State Bakersfield', 'CSU Fullerton': 'Cal State Fullerton',
        'CSU Northridge': 'Cal State Northridge',
        'Long Beach St': 'Long Beach State', 'Sacramento St': 'Sacramento State',
        'San Jose St': 'San Jose State', 'San Jos\u00e9 St': 'San Jose State',
        'Fresno St': 'Fresno State', 'San Diego St': 'San Diego State',
        'CA Baptist': 'California Baptist', 'Cal Baptist': 'California Baptist',
        // Direction abbreviations
        'UMES': 'Maryland-Eastern Shore', 'MD Eastern': 'Maryland-Eastern Shore',
        'N Arizona': 'Northern Arizona', 'N Colorado': 'Northern Colorado',
        'N Dakota': 'North Dakota', 'N Dakota St': 'North Dakota State',
        'S Dakota': 'South Dakota', 'S Dakota St': 'South Dakota State',
        'S Florida': 'South Florida', 'N Texas': 'North Texas', 'W Virginia': 'West Virginia',
        'W Kentucky': 'Western Kentucky', 'E Kentucky': 'Eastern Kentucky', 'E Washington': 'Eastern Washington',
        'N Illinois': 'Northern Illinois', 'N Kentucky': 'Northern Kentucky',
        'E Illinois': 'Eastern Illinois', 'E Michigan': 'Eastern Michigan',
        'W Carolina': 'Western Carolina', 'W Illinois': 'Western Illinois', 'W Michigan': 'Western Michigan',
        'S Illinois': 'Southern Illinois', 'C Arkansas': 'Central Arkansas',
        'C Connecticut': 'Central Connecticut', 'C Michigan': 'Central Michigan',
        // Saint/St variations
        'St Marys': "Saint Mary's (CA)", "Saint Mary's": "Saint Mary's (CA)",
        'Mount St Marys': "Mount St. Mary's", "St John's": "St. John's",
        'St Bonaventure': 'St. Bonaventure', "St Peter's": "Saint Peter's",
        'St Thomas': 'St. Thomas', 'St Thomas (MN)': 'St. Thomas',
        // Common abbreviations
        'App State': 'Appalachian State', 'G Washington': 'George Washington',
        'UMass': 'Massachusetts', 'UConn': 'Connecticut', 'Ole Miss': 'Mississippi',
        'Pitt': 'Pittsburgh', 'Miami': 'Miami (FL)', 'Miami OH': 'Miami (OH)',
        'FGCU': 'Florida Gulf Coast', 'FAU': 'Florida Atlantic', 'FIU': 'Florida International',
        'UNC': 'North Carolina', 'VCU': 'Virginia Commonwealth', 'UCF': 'Central Florida',
        'UNLV': 'Nevada-Las Vegas', 'SMU': 'Southern Methodist', 'LSU': 'Louisiana State',
        'BYU': 'Brigham Young', 'TCU': 'Texas Christian', 'USC': 'Southern California',
        'SFA': 'Stephen F. Austin', 'UTEP': 'UTEP', 'UTSA': 'Texas-San Antonio',
        'LIU': 'Long Island', 'UAB': 'UAB', 'URI': 'Rhode Island', 'UNI': 'Northern Iowa',
        'NIU': 'Northern Illinois', 'SIU': 'Southern Illinois', 'SIUE': 'SIU Edwardsville',
        'WKU': 'Western Kentucky', 'ETSU': 'East Tennessee State', 'MTSU': 'Middle Tennessee',
        // ESPN variations
        'Loyola Chi': 'Loyola Chicago', 'Loyola MD': 'Loyola (MD)',
        'Little Rock': 'Arkansas-Little Rock', 'Omaha': 'Nebraska-Omaha',
        'AR-Pine Bluff': 'Arkansas-Pine Bluff', 'Abilene Chrstn': 'Abilene Christian',
        'Bethune': 'Bethune-Cookman', 'Boston U': 'Boston University',
        'Charleston So': 'Charleston Southern', 'Coastal': 'Coastal Carolina',
        'E Texas A&M': 'East Texas A&M', 'FDU': 'Fairleigh Dickinson',
        'GA Southern': 'Georgia Southern', 'Grambling': 'Grambling State',
        "Hawai'i": 'Hawaii', 'Hou Christian': 'Houston Christian',
        'IU Indy': 'Indiana-Purdue Indianapolis', 'Jax State': 'Jacksonville State',
        'Miss Valley St': 'Mississippi Valley State', 'NC A&T': 'North Carolina A&T',
        'NC Central': 'North Carolina Central', "N'Western St": 'Northwestern State',
        'NW State': 'Northwestern State', 'Prairie View': 'Prairie View A&M',
        'Purdue FW': 'Purdue Fort Wayne', 'SC State': 'South Carolina State',
        'SC Upstate': 'USC Upstate', 'SE Louisiana': 'Southeastern Louisiana',
        'SE Missouri': 'Southeast Missouri State', 'SF Austin': 'Stephen F. Austin',
        'Saint Francis': 'Saint Francis (PA)', 'Seattle U': 'Seattle',
        'So Indiana': 'Southern Indiana', 'Texas A&M-CC': 'Texas A&M-Corpus Christi',
        'UAlbany': 'Albany', 'UL Monroe': 'Louisiana-Monroe',
        'UT Rio Grande': 'Texas-Rio Grande Valley', 'Arizona St': 'Arizona State',
        'Western KY': 'Western Kentucky', 'Grand Canyon': 'Grand Canyon',
        'Southern Miss': 'Southern Miss', 'UNC Wilmington': 'UNC Wilmington'
    };

    if (explicitMappings[name]) return explicitMappings[name];

    // Handle " St" suffix -> " State"
    if (name.endsWith(' St')) return name.slice(0, -3) + ' State';

    // Handle "St " prefix -> "Saint "
    if (name.startsWith('St ')) return 'Saint ' + name.slice(3);

    return name;
}
